<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--jquery cdn-->
    <script
            src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <!--materialize cdn-->
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

    <!--font awesome-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css"
          integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">

    <title>Survey</title>
</head>
<body class="survey container blue darken-4">
<!--<div class="container">-->
<div class="survey row">
    <div class="survey card-panel red white-text darken-2 center">
        <h1 class="survey center">Friend Finder!</h1>
        <i class="survey center fab fa-searchengin fa-8x" style="color:darkblue"></i>
    </div>
</div>
<div class="row">
    <div class="survey col s12 m8 offset-m2 white-text">
        <div class="survey card red darken-1">
            <div class="survey card-header center">
                <h4><i class="survey fas fa-handshake" style="color:darkblue"></i> Answer these questions to see who you
                    match with!<i
                            class="survey fas fa-handshake" style="color:darkblue"></i></h4>
            </div>
            <div class="survey card-content center">
                <h4 class="survey" style="border-bottom:solid blue 1px; padding-bottom: 5px;">Survey Questions</h4>

                <form class="col s12">
                    <div class="row">
                        <div class="input-field col s8">
                            <input placeholder="Name(required)" type="text" id="name" class="validate">
                            <label for="name">Name</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s8">
                            <input type="text" placeholder="Picture Link(Required)" id="pictureLink"
                                   class="validate">
                            <label for="pictureLink">Link to Picture</label>
                        </div>
                    </div>
                </form>
                <h5>Question 1</h5>

                <div class="input-field col s12">
                    <select id="q1">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 1</label>
                </div>
                <h5>Question 2</h5>
                <div class="input-field col s12">
                    <select id="q2">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 2</label>
                </div>
                <h5>Question 3</h5>
                <div class="input-field col s12">
                    <select id="q3">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 3</label>
                </div>
                <h5>Question 4</h5>
                <div class="input-field col s12">
                    <select id="q4">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 4</label>
                </div>
                <h5>Question 5</h5>
                <div class="input-field col s12">
                    <select id="q5">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 5</label>
                </div>
                <h5>Question 6</h5>
                <div class="input-field col s12">
                    <select id="q6">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 6</label>
                </div>

                <h5>Question 7</h5>
                <div class="input-field col s12">
                    <select id="q7">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 7</label>
                </div>
                <h5>Question 8</h5>
                <div class="input-field col s12">
                    <select id="q8">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 8</label>
                </div>
                <h5>Question 9</h5>
                <div class="input-field col s12">
                    <select id="q9">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 9</label>
                </div>
                <h5>Question 10</h5>
                <div class="input-field col s12">
                    <select id="q10">
                        <option value="" class="disable selected">Choose Your Option</option>
                        <option value="1">1 (strongly disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (strongly agree)</option>
                    </select>
                    <label>Question 10</label>
                </div>


                <a href=""><button data-target="modal1"
                                          class="survey modal-trigger btn blue
                                          darken-4 white-text waves-effect waves-red"
                        id="surveySubmit" type="submit"><i
                        class="survey fas fa-certificate" style="color:red"></i> Submit
                </button></a>
                <div id="modal1" class="modal modal-open black-text">
                    <div class="modal-content">
                        <h4>whosa funky monkey</h4>
                        <p>Your answers are being compared</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#!" class="modal-close waves-effect waves-green btn-flat">click me</a>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>
<div class="row">
    <a class="white-text" href="/api/friends">Friends API | </a>
    <a class="white-text" href="https://github.com/Livingnight/FriendFinder">Github Repo</a>
</div>

</div>


<!-- Compiled and minified JavaScript -->
<script>
    $(document).ready( () => {
        $('.modal').modal();
        $('select').formSelect();

        $('#surveySubmit').on('click', event => {
            event.preventDefault();
            const answer ={
                name: $('#name').val().trim(),
                picLink: $('#pictureLink').val().trim(),
                answerArr: [
                    $('#q1 option:selected').val(),
                    $('#q2 option:selected').val(),
                    $('#q3 option:selected').val(),
                    $('#q4 option:selected').val(),
                    $('#q5 option:selected').val(),
                    $('#q6 option:selected').val(),
                    $('#q7 option:selected').val(),
                    $('#q8 option:selected').val(),
                    $('#q9 option:selected').val(),
                    $('#q10 option:selected').val()
                ]

            };
            $('#modal1').openModal();
            // const answers = instance.getSelectedValues();
            console.log(`${JSON.stringify(answer, null, 2)}`);
            $.post('/api/friends', answer,
                data => {
                    switch(data){
                        case true:
                            $('#modal1').openModal();
                            break;
                        case false:
                            $('#modal2').open();
                            break;



                    }
                })

        })
    });
</script>
<script src="../data/friends.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
</body>
</html>